#!/bin/bash

# xrandr stuff must happen first. 
# Obviously the correct thing here is host-dependent.
if [ `hostname` == "hornsby" ]; then
    xrandr --output HDMI-0 --auto --output DVI-0 --auto --right-of HDMI-0
fi

setxkbmap -option ctrl:nocaps
xrdb -merge ~/.Xresources
if type -P xscreensaver >/dev/null; then 
    xscreensaver &
fi

# hsetroot is its own package; lets you scale to full screen without stretching. 
# link any image to ~/.xbackground and this will put it on the background. 
test `type -P hsetroot >/dev/null` && test -r ~/.xbackground && hsetroot -full ~/.xbackground

# Note that 'camelot' is my default screen session from .bashrc
xterm -T xterm-camelot -e screen -D -R -S camelot &

if type -P emacs >/dev/null; then 
    emacs &
fi
if type -P conkeror >/dev/null; then 
    conkeror &
fi

exec stumpwm
