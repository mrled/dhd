# A shared ssh config file.
# -*- mode: ssh-config -*-
#
# It is intended that clients include this at the end of their ~/.ssh/config with:
#   Include ~/.ssh/sharedconfig

Host *
  # There's no reason to hash known_hosts since we are no longer publishing the UserKnownHosts file.
  # (And I think there was little reason to before;
  # all my hosts probably also have HTTPS certs, which are in a global transparency log anyway.)
  HashKnownHosts no

  # Set the GlobalKnownHostsFile to include the defaults plus DHD's.
  # Unlike UserKnownHostsFile, the client does update the GlobalKnownHostsFile with new entries
  GlobalKnownHostsFile /etc/ssh/ssh_known_hosts, /etc/ssh/ssh_known_hosts2, ~/.dhd/hbase/.ssh/known_hosts

Host github.com
  HostKeyAlgorithms=-ssh-rsa

Host *.onion
	CheckHostIP no
	ProxyCommand nc -x 127.0.0.1:9150 %h %p

# Useful snippets to copy in to other configs:
Host *.example

	# If we are not logged in over SSH use the 1password agent.
  Match exec "test -z $SSH_TTY"
    IdentityAgent "/Users/mrled/Library/Group Containers/2BUA8C4S2C.com.1password/t/agent.sock"
